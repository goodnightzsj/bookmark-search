<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>书签搜索 - 极速收藏夹管理与查找工具</title>
  <style>
    /* 基础重置和防闪烁 */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { width: 320px; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; opacity: 0; transition: opacity 0.15s; }
    body.theme-ready { opacity: 1; }
    .icon { display: inline-flex; align-items: center; justify-content: center; }
    .icon svg { width: 1em; height: 1em; display: block; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    :focus-visible { outline: 2px solid rgba(59, 130, 246, 0.6); outline-offset: 2px; }
    /* 底部提示布局，避免多行时重叠 */
    #footerHint {
      display: inline-flex;
      flex-direction: column;
      gap: 6px;
      text-align: center;
      line-height: 1.4;
      align-items: center;
    }
    .hint-line {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .hint-title { font-weight: 600; }
    .hint-sep { opacity: 0.8; }
    #footerHint .kbd { margin: 0 2px; }
  </style>
</head>
<body data-page="popup">
  <div class="header">
    <h1>书签搜索</h1>
    <p class="subtitle">极速收藏夹管理与查找工具</p>
  </div>

  <div class="content">
    <div class="info-card">
      <div class="info-row">
        <span class="info-label">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M12 21s6-5.686 6-10a6 6 0 10-12 0c0 4.314 6 10 6 10z"/><circle cx="12" cy="11" r="2"/></svg>
          </span>
          当前页面状态
        </span>
        <span class="info-value" id="pageStatus">
          <span class="status-indicator" id="statusIndicator"></span>
          <span id="statusText">检测中...</span>
        </span>
      </div>

      <div class="info-row">
        <span class="info-label">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="10" rx="2"/><path d="M7 11h.01M10 11h.01M13 11h.01M16 11h.01M7 14h10"/></svg>
          </span>
          快捷键
        </span>
        <span class="info-value" id="shortcut">
          <span class="kbd">Ctrl+Space (Win/Linux) / Command+Space (Mac)</span>
        </span>
      </div>

      <div class="info-row">
        <span class="info-label">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M6 3h12a1 1 0 011 1v17l-7-4-7 4V4a1 1 0 011-1z"/></svg>
          </span>
          书签总数
        </span>
        <span class="info-value">
          <span class="count" id="bookmarkCount">--</span>
        </span>
      </div>

      <div class="info-row">
        <span class="info-label">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9"/><path d="M12 7v6l4 2"/></svg>
          </span>
          最后同步
        </span>
        <span class="info-value" id="lastSyncTime" style="font-size: 12px;">
          --
        </span>
      </div>

      <div class="info-row">
        <span class="info-label">
          <span class="icon" aria-hidden="true">
            <svg viewBox="0 0 24 24"><circle cx="12" cy="13" r="8"/><path d="M12 9v4l3 2"/><path d="M5 6l2-2"/><path d="M19 6l-2-2"/></svg>
          </span>
          下次同步
        </span>
        <span class="info-value" id="nextSyncTime" style="font-size: 12px;">
          --
        </span>
      </div>
    </div>
  </div>

  <div class="actions">
    <button class="btn btn-primary" id="openSettings">
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M12 15.5a3.5 3.5 0 110-7 3.5 3.5 0 010 7z"/><path d="M19.4 15a7.8 7.8 0 00.1-1l2-1.2-2-3.5-2.3.7a7.7 7.7 0 00-.8-.5l-.3-2.4H10l-.3 2.4a7.7 7.7 0 00-.8.5L6.6 9.3l-2 3.5L6.6 14a7.8 7.8 0 00.1 1 7.8 7.8 0 00-.1 1l-2 1.2 2 3.5 2.3-.7c.26.18.53.35.8.5l.3 2.4h4.1l.3-2.4c.27-.15.54-.32.8-.5l2.3.7 2-3.5-2-1.2a7.8 7.8 0 00.1-1z"/></svg>
      </span>
      <span class="btn-text">设置与管理</span>
    </button>
    <button class="btn btn-secondary" id="refreshBookmarks">
      <span class="icon" aria-hidden="true">
        <svg viewBox="0 0 24 24"><path d="M20 12a8 8 0 10-2.34 5.66"/><path d="M20 8v4h-4"/></svg>
      </span>
      <span class="btn-text">刷新书签</span>
    </button>
  </div>

  <div class="footer">
    <span id="footerHint">按快捷键在任意页面快速搜索</span>
  </div>

  <script type="module" src="theme-loader.js"></script>

  <script type="module" src="popup.js"></script>
</body>
</html>
