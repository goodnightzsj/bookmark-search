<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>书签搜索 - 极速收藏夹管理与查找工具 - 设置</title>
  <style>
    /* 基础重置和防闪烁 */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; min-height: 100vh; opacity: 0; transition: opacity 0.15s; }
    body.theme-ready { opacity: 1; }
    .icon { display: inline-flex; align-items: center; justify-content: center; }
    .icon svg { width: 1em; height: 1em; display: block; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    .empty-state-icon svg { width: 1em; height: 1em; display: inline-block; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    :focus-visible { outline: 2px solid rgba(59, 130, 246, 0.6); outline-offset: 2px; }
    .page-header h1 { display: inline-flex; align-items: center; justify-content: center; gap: 10px; }
  </style>
</head>
<body data-page="settings">
  <div class="container">
    <div class="page-header">
      <h1><span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 15.5a3.5 3.5 0 110-7 3.5 3.5 0 010 7z"/><path d="M19.4 15a7.8 7.8 0 00.1-1l2-1.2-2-3.5-2.3.7a7.7 7.7 0 00-.8-.5l-.3-2.4H10l-.3 2.4a7.7 7.7 0 00-.8.5L6.6 9.3l-2 3.5L6.6 14a7.8 7.8 0 00.1 1 7.8 7.8 0 00-.1 1l-2 1.2 2 3.5 2.3-.7c.26.18.53.35.8.5l.3 2.4h4.1l.3-2.4c.27-.15.54-.32.8-.5l2.3.7 2-3.5-2-1.2a7.8 7.8 0 00.1-1z"/></svg></span> 设置与管理</h1>
      <p>自定义您的极速收藏夹管理与查找体验</p>
    </div>

    <!-- 主题设置 -->
    <div class="card">
      <div class="card-title">
        <span><span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 22a10 10 0 100-20 10 10 0 000 20z"/><circle cx="8.5" cy="10.5" r="1" fill="currentColor"/><circle cx="13.5" cy="8.5" r="1" fill="currentColor"/><circle cx="15.5" cy="13.5" r="1" fill="currentColor"/><path d="M12 22c2.2 0 4-1.8 4-4a2 2 0 00-2-2h-1a2 2 0 01-2-2V7"/></svg></span> 主题设置</span>
      </div>
      <div class="card-content">
        <div class="form-group">
          <label class="form-label">选择主题</label>
          <div class="theme-grid" id="themeGrid">
            <div class="theme-option" data-theme="original">
              <div class="theme-preview" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
              <div class="theme-name">经典渐变</div>
            </div>
            <div class="theme-option" data-theme="minimal">
              <div class="theme-preview" style="background: #ffffff; border: 1px solid #e5e7eb;"></div>
              <div class="theme-name">极简白</div>
            </div>
            <div class="theme-option" data-theme="glass">
              <div class="theme-preview" style="background: linear-gradient(135deg, #E0C3FC 0%, #8EC5FC 100%);"></div>
              <div class="theme-name">毛玻璃</div>
            </div>
            <div class="theme-option" data-theme="dark">
              <div class="theme-preview" style="background: #0a0a0a;"></div>
              <div class="theme-name">深色</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 快捷键设置 -->
    <div class="card">
      <div class="card-title">
        <span><span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><rect x="3" y="7" width="18" height="10" rx="2"/><path d="M7 11h.01M10 11h.01M13 11h.01M16 11h.01M7 14h10"/></svg></span> 快捷键设置</span>
      </div>
      <div class="card-content">
        <div class="form-group">
          <label class="form-label">搜索快捷键</label>
          <input type="text" id="shortcutInput" class="form-input" readonly placeholder="Ctrl+Space (Win/Linux) / Command+Space (Mac)">
          <p class="help-text">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M9 18h6"/><path d="M10 22h4"/><path d="M12 2a7 7 0 00-4 12c.6.5 1 1.4 1 2.3V18h6v-1.7c0-.9.4-1.8 1-2.3A7 7 0 0012 2z"/></svg></span>
            <span>Chrome/Edge 快捷键需要在扩展管理页面修改</span>
          </p>
          <div id="shortcutConflict" class="alert alert-warning" style="display: none">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg></span>
            <div>
              <strong>快捷键冲突警告</strong>
              <p id="conflictMessage"></p>
            </div>
          </div>
        </div>
        <button class="btn btn-primary" id="openShortcutsPage">
          <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M10 13a5 5 0 007.07 0l1.41-1.41a5 5 0 00-7.07-7.07L10 5.93"/><path d="M14 11a5 5 0 00-7.07 0L5.52 12.41a5 5 0 007.07 7.07L14 18.07"/></svg></span>
          <span>打开快捷键设置页面</span>
        </button>
      </div>
    </div>

    <!-- 书签同步设置 -->
    <div class="card">
      <div class="card-title">
        <span><span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M4 19V5"/><path d="M4 19h16"/><path d="M8 19v-6"/><path d="M12 19v-10"/><path d="M16 19v-3"/></svg></span> 书签同步设置</span>
        <button class="btn btn-secondary" id="syncBookmarks">
          <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M20 12a8 8 0 10-2.34 5.66"/><path d="M20 8v4h-4"/></svg></span>
          <span class="btn-text">同步书签</span>
        </button>
      </div>
      <div class="card-content">
        <div class="form-group">
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
              <p style="font-size: 14px; color: inherit; opacity: 0.7; margin-bottom: 4px;">书签总数</p>
              <p style="font-size: 32px; font-weight: 700;" id="totalBookmarks">--</p>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">自动同步间隔</label>
          <select id="syncInterval" class="form-input">
            <option value="5">5 分钟</option>
            <option value="10">10 分钟</option>
            <option value="15">15 分钟</option>
            <option value="30" selected>30 分钟（推荐）</option>
            <option value="60">1 小时</option>
            <option value="120">2 小时</option>
            <option value="360">6 小时</option>
            <option value="720">12 小时</option>
            <option value="1440">24 小时</option>
            <option value="0">禁用自动同步</option>
          </select>
        </div>

        <div class="form-group">
          <div style="display: flex; gap: 12px; font-size: 13px;">
            <div style="flex: 1;">
              <p style="margin-bottom: 4px; opacity: 0.7;">最后同步时间</p>
              <p style="font-weight: 600;" id="lastSyncDisplay">--</p>
            </div>
            <div style="flex: 1;">
              <p style="margin-bottom: 4px; opacity: 0.7;">下次同步时间</p>
              <p style="font-weight: 600;" id="nextSyncDisplay">--</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 书签更新历史 -->
    <div class="card">
      <div class="card-title">
        <span><span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M8 6h13"/><path d="M8 12h13"/><path d="M8 18h13"/><path d="M3 6h.01"/><path d="M3 12h.01"/><path d="M3 18h.01"/></svg></span> 书签更新历史 <span class="badge" id="historyCount">0</span></span>
        <div style="display: flex; gap: 8px;">
          <button class="btn btn-secondary btn-sm" id="clearHistory">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M3 6h18"/><path d="M8 6V4h8v2"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11v6"/><path d="M14 11v6"/></svg></span>
            <span>清空</span>
          </button>
          <button class="btn btn-primary btn-sm" id="toggleExportMode">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 3v12"/><path d="M7 8l5-5 5 5"/><path d="M5 21h14a2 2 0 002-2v-4H3v4a2 2 0 002 2z"/></svg></span>
            <span class="btn-text">导出书签</span>
          </button>
        </div>
      </div>
      <div class="card-content">
        <div class="export-controls" id="exportControls" style="display: none;">
          <button class="btn btn-secondary btn-sm" id="selectAll">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M8 12l3 3 5-6"/></svg></span>
            <span>全选</span>
          </button>
          <button class="btn btn-secondary btn-sm" id="deselectAll">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/></svg></span>
            <span>取消全选</span>
          </button>
          <button class="btn btn-primary btn-sm" id="exportSelected">
            <span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M12 3v12"/><path d="M7 8l5-5 5 5"/><path d="M5 21h14a2 2 0 002-2v-4H3v4a2 2 0 002 2z"/></svg></span>
            <span>导出选中</span>
          </button>
          <span class="select-info" id="selectInfo">已选择 0 条</span>
        </div>

        <div id="historyList" class="history-list">
          <div class="empty-state">
            <div class="empty-state-icon" aria-hidden="true"><svg viewBox="0 0 24 24"><path d="M3 12l2-7h14l2 7v7H3v-7z"/><path d="M3 12h6l2 3h2l2-3h6"/></svg></div>
            <p>暂无书签更新记录</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 关于 -->
    <div class="card">
      <div class="card-title">
        <span><span class="icon" aria-hidden="true"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="9"/><path d="M12 11v5"/><path d="M12 7h.01"/></svg></span> 关于</span>
      </div>
      <div class="card-content">
        <div class="form-group">
          <p style="line-height: 1.6; opacity: 0.8;">
            <strong>书签搜索 - 极速收藏夹管理与查找工具 v1.8.0</strong><br>
            一个现代化的书签管理和搜索工具。<br><br>
            <strong>功能特性：</strong>
          </p>
          <ul class="feature-list" style="margin-top: 10px; padding-left: 18px; line-height: 1.7; opacity: 0.8;">
            <li>快速搜索书签</li>
            <li>键盘导航支持</li>
            <li>4种主题皮肤切换</li>
            <li>定时自动同步</li>
            <li>智能对比同步</li>
            <li>书签位置追踪</li>
            <li>详细的操作历史记录</li>
            <li>书签导出功能</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="theme-loader.js"></script>

  <script type="module" src="settings.js"></script>
</body>
</html>
